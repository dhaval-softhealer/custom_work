<?xml version="1.0" encoding="UTF-8"?>
<odoo>

    <!-- Module -->
    <record model="ir.module.category" id="module_product_management_category">
        <field name="name">Products</field>
        <field name="description">Product Management</field>
        <field name="sequence">20</field>
    </record>

    <!-- Rules -->
    <record model="ir.rule" id="product_pricelist_company_rule">
        <field name="name">Product Pricelist Company Rule</field>
        <field name="model_id" ref="model_product_pricelist" />
        <field name="domain_force">['|',('company_id','=',False),('company_id', 'in', company_ids)]</field>
        <field name="groups" eval="[(4, ref('base.group_system'))]" />
    </record>
    <record model="ir.rule" id="product_pricelist_partner_rule">
        <field name="name">Product Pricelist Partner Rule</field>
        <field name="model_id" ref="model_product_pricelist" />
        <field name="domain_force">['|', ('allowed_partner_ids', '=', user.partner_id.parent_id.id), ('allowed_partner_ids', '=', False)]</field>
        <field name="groups" eval="[(4, ref('base.group_user'))]" />
        <field name="perm_write" eval="False" />
        <field name="perm_create" eval="False" />
        <field name="perm_unlink" eval="False" />
    </record>

    <record model="ir.rule" id="product_pricelist_item_company_rule">
        <field name="name">Product Pricelist Item Company Rule</field>
        <field name="model_id" ref="model_product_pricelist_item" />
        <field name="domain_force">['|',('company_id','=',False),('company_id', 'in', company_ids)]</field>
        <field name="groups" eval="[(4, ref('base.group_system'))]" />
    </record>

    <record model="ir.rule" id="product_pricelist_item_partner_rule">
        <field name="name">Product Pricelist Item Partner Rule</field>
        <field name="model_id" ref="model_product_pricelist_item" />
        <field name="domain_force">['|', ('allowed_partner_ids', '=', user.partner_id.parent_id.id), ('allowed_partner_ids', '=', False)]</field>
        <field name="groups" eval="[(4, ref('base.group_user'))]" />
        <field name="perm_write" eval="False" />
        <field name="perm_create" eval="False" />
        <field name="perm_unlink" eval="False" />
    </record>

    <record model="ir.rule" id="product_subscription_company_rule">
        <field name="name">Product Subscription Company Rule</field>
        <field name="model_id" ref="model_product_subscription" />
        <field name="domain_force">[]</field>
        <field name="groups" eval="[(4, ref('base.group_system'))]" />
    </record>

    <record model="ir.rule" id="product_subscription_partner_rule">
        <field name="name">Product Subscription Partner Rule</field>
        <field name="model_id" ref="model_product_subscription" />
        <field name="domain_force">[('partner_id', '=', user.partner_id.parent_id.id)]</field>
        <field name="groups" eval="[(4, ref('base.group_user'))]" />
        <field name="perm_write" eval="True" />
        <field name="perm_create" eval="True" />
        <field name="perm_unlink" eval="True" />
    </record>

</odoo>