<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <record id="corum_res_config_settings_view_form_inherit" model="ir.ui.view">
        <field name="model">res.config.settings</field>
        <field name="inherit_id" ref="base_setup.res_config_settings_view_form" />
        <field name="arch" type="xml">

            <!-- Share product field --> 
            <xpath expr="//div[@id='inter_company']" position="inside">
                <div id="company_share_product">
                    <br />
                    <field name="company_share_product" class="oe_inline" />
                    <label
                        string="Common Product Catalog"
                        class="o_light_label"
                        for="company_share_product"
                    />
                </div>
            </xpath>

            <!-- Sale Order > Purchase Order -->
            <xpath
                expr="//div[@id='company_share_product']"
                position="after"
            >
                <br />
                <div class="o_form_label mt8">Sale Order > Purchase Order</div>
                <div id="inter_company_po_from_so">
                    <field name="po_from_so" class="oe_inline" />
                    <label
                        string="Purchase Order from Sale Order"
                        class="o_light_label"
                        for="po_from_so"
                    />
                </div>
                <div
                    id="inter_company_purchase_settings"
                    attrs="{'invisible':['|', ('company_id', '=', False), ('po_from_so', '=', False)]}"
                >
                    <label for="intercompany_purchase_user_id" class="o_light_label" />
                    <field
                        name="intercompany_purchase_user_id"
                        attrs="{'required': [('po_from_so', '=', True)]}"
                        class="oe_inline"
                    />
                    <br />
                    <field name="purchase_auto_validation" class="oe_inline" />
                    <label for="purchase_auto_validation" class="oe_inline o_light_label" />
                </div>
            </xpath>

            <!-- Purchase Order > Sale Order -->
            <xpath
                expr="//div[@id='inter_company_purchase_settings']"
                position="after"
            >
                <br />
                <div class="o_form_label mt8">Purchase Order > Sale Order</div>
                <div id="inter_company_so_from_po">
                    <field name="so_from_po" class="oe_inline" />
                    <label
                        string="Sale Order from Purchase Order"
                        class="o_light_label"
                        for="so_from_po"
                    />
                </div>
                <div
                    id="inter_company_sale_settings"
                    attrs="{'invisible':['|', ('company_id', '=', False), ('so_from_po', '=', False)]}"
                >
                    <label for="intercompany_sale_user_id" class="o_light_label" />
                    <field
                        name="intercompany_sale_user_id"
                        attrs="{'required': [('so_from_po', '=', True)]}"
                        class="oe_inline"
                    />
                    <br />
                    <field name="sale_auto_validation" class="oe_inline" />
                    <label for="sale_auto_validation" class="oe_inline o_light_label" />
                </div>
            </xpath>

        </field>
    </record>
</odoo>
